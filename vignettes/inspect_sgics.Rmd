---
title: "inspect SGICs"
output: rmarkdown::html_vignette
description: >
  This vingette shows you how to use the package for checking SGIcs and related survey data on plausibility and how to prepare data that could be further used in reports 
vignette: >
  %\VignetteIndexEntry{inspect_sgics}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(trustmebro)
library(dplyr)
```

When using SGICs to link survey data from different sources, it's crucial to first clean the data and assess the entries for plausibility before proceeding with the actual data linkage.

# Data: sailor_students

The survey data we use in this vingette is the `sailor_students` dataset. It contains fictional student assessment data from students of the sailor moon universe. 

```{r}
dim(sailor_students)
sailor_students
```


# When you don't want seperate tibbles with invalid cases for all your checks

Every function that starts with *report_* will return a tibble containing rows that failed the respective plausibility check. But maybe you would like to add these check results directly to your data. You can use functions that start with *inspect_* if you want to return the result as a boolean. For our performed plausibility checks on structure and birthdate, we can combine these functions with mutate to add new columns to our tibble containing the check results:

```{r}
sailor_students %>% mutate(structure_check = inspect_codestructure(sgic, pattern = "^[A-Za-z]{3}[0-9]{4}$"),
                                             birthdate_check = inspect_birthdaymonth(sgic))
```
