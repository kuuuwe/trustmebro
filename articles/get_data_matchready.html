<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get Data Matchready • trustmebro</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Data Matchready">
<meta name="description" content="This vingette shows you how to use the package for preparing datasets to be linked
">
<meta property="og:description" content="This vingette shows you how to use the package for preparing datasets to be linked
">
<meta property="og:image" content="https://kuuuwe.github.io/trustmebro/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">trustmebro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/get_data_matchready.html">Get Data Matchready</a></li>
    <li><a class="dropdown-item" href="../articles/inspect_sgics.html">Inspect SGICs</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get Data Matchready</h1>
            
      

      <div class="d-none name"><code>get_data_matchready.Rmd</code></div>
    </div>

    
    
<p>Want to link up your data from different sources? Awesome! Just a
heads-up, you’ll probably need to do some cleaning first. Let’s dive in
and see how our package makes getting your SGIC data ready super
easy.</p>
<p>We`ll start by loading trustmebro:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kuuuwe.github.io/trustmebro/">trustmebro</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>Our key data set <code><a href="../reference/sailor_keys.html">trustmebro::sailor_keys</a></code> is a
longitudinal data set in long format. It is a tibble with 20 rows and 12
columns.</p>
<p>This data should be linked with our survey data
<code><a href="../reference/sailor_students.html">trustmebro::sailor_students</a></code>, a tibble with 12 rows and 6
columns.</p>
<p>Let us take a quick look at the survey data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">trustmebro</span><span class="fu">::</span><span class="va"><a href="../reference/sailor_students.html">sailor_students</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 6</span></span></span>
<span><span class="co">#&gt;    sgic             school class   gender  testscore_langauge testscore_calculus</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">"</span>MUC__0308<span style="color: #949494;">"</span>      54321  <span style="color: #949494;">"</span>3-B <span style="color: #949494;">"</span>  <span style="color: #949494;">"</span>Male<span style="color: #949494;">"</span>                 425                394</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">"</span>HÄT 2701<span style="color: #949494;">"</span>       22345  <span style="color: #949494;">"</span>2-A<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>???<span style="color: #949494;">"</span>                 <span style="text-decoration: underline;">4</span>596                123</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">"</span>MUK3801<span style="color: #949494;">"</span>        22345  <span style="color: #949494;">"</span>  2-B<span style="color: #949494;">"</span> <span style="color: #949494;">"</span>Femal…               <span style="text-decoration: underline;">2</span>456               <span style="text-decoration: underline;">9</span>485</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">"</span>SAM10<span style="color: #949494;">"</span>          22345  <span style="color: #949494;">"</span>3-B<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>Femal…               <span style="text-decoration: underline;">2</span>345                  3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">"</span>T0601<span style="color: #949494;">"</span>          65432  <span style="color: #949494;">"</span>1-C<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>Femal…               <span style="text-decoration: underline;">1</span>234                 <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">"</span>      UIT3006 <span style="color: #949494;">"</span> 12345  <span style="color: #949494;">"</span>3-3<span style="color: #949494;">"</span>    <span style="color: #BB0000;">NA</span>                    123                394</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">"</span>@@@@@@<span style="color: #949494;">"</span>         <span style="color: #BB0000;">NA</span>     <span style="color: #949494;">"</span>3_2  <span style="color: #949494;">"</span> <span style="color: #949494;">"</span>Femal…                 56               <span style="text-decoration: underline;">2</span>938</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="color: #BB0000;">NA</span>              12345  <span style="color: #949494;">"</span>3@41<span style="color: #949494;">"</span>  <span style="color: #949494;">"</span>   Fe…                986               <span style="text-decoration: underline;">3</span>948</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">"</span> <span style="color: #949494;">"</span>              unkown  <span style="color: #BB0000;">NA</span>     <span style="color: #949494;">"</span>Femal…                284                205</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">"</span>MOA2210<span style="color: #949494;">"</span>        12345  <span style="color: #949494;">"</span> <span style="color: #949494;">"</span>     <span style="color: #949494;">"</span>Femal…                105                 21</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> <span style="color: #949494;">"</span>MUK3801<span style="color: #949494;">"</span>        22345  <span style="color: #949494;">"</span>2-B<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>Femal…               <span style="text-decoration: underline;">9</span>586                934</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> <span style="color: #949494;">"</span>T0601<span style="color: #949494;">"</span>          65432  <span style="color: #949494;">"</span>1-C<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>Femal…                 <span style="color: #BB0000;">NA</span>                764</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="replace-non-alphanumeric-characters-you-dont-want-to-deal-with">Replace non-alphanumeric characters you don’t want to deal with<a class="anchor" aria-label="anchor" href="#replace-non-alphanumeric-characters-you-dont-want-to-deal-with"></a>
</h2>
<p>Yep, this data needs cleaning. There’s a lot of unnecessary stuff,
like whitespace. You see this all the time with survey data strings. We
can replace all non-alphanumeric characters in string-variables of our
data set <code><a href="../reference/sailor_students.html">trustmebro::sailor_students</a></code> using
<code><a href="../reference/purge_string.html">trustmebro::purge_string</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/purge_string.html">purge_string</a></span><span class="op">(</span><span class="va">sailor_students</span>, replacement <span class="op">=</span> <span class="st">"#"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 6</span></span></span>
<span><span class="co">#&gt;    sgic      school class gender testscore_langauge testscore_calculus</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> MUC##0308 54321  3#B   MALE                  425                394</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> H#T2701   22345  2#A   ###                  <span style="text-decoration: underline;">4</span>596                123</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> MUK3801   22345  2#B   FEMALE               <span style="text-decoration: underline;">2</span>456               <span style="text-decoration: underline;">9</span>485</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> SAM10     22345  3#B   FEMALE               <span style="text-decoration: underline;">2</span>345                  3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> T0601     65432  1#C   FEMALE               <span style="text-decoration: underline;">1</span>234                 <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> UIT3006   12345  3#3   #                     123                394</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ######    #      3#2   FEMALE                 56               <span style="text-decoration: underline;">2</span>938</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> #         12345  3#41  FEMALE                986               <span style="text-decoration: underline;">3</span>948</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> #         UNKOWN #     FEMALE                284                205</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> MOA2210   12345  #     FEMALE                105                 21</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> MUK3801   22345  2#B   FEMALE               <span style="text-decoration: underline;">9</span>586                934</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> T0601     65432  1#C   FEMALE                 <span style="color: #BB0000;">NA</span>                764</span></span></code></pre></div>
<p>Please note that since we deal with data collected in Germany,
umlauts remain unchanged from this.</p>
</div>
<div class="section level2">
<h2 id="recode-variables">Recode variables<a class="anchor" aria-label="anchor" href="#recode-variables"></a>
</h2>
<p>A few variables need recoding for further analysis. For that, we can
provide a recode map:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recode_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>MALE <span class="op">=</span> <span class="st">"M"</span>, FEMALE <span class="op">=</span> <span class="st">"F"</span><span class="op">)</span></span></code></pre></div>
<p>The recode_map is a named vector where the names represent categories
(in this case, “Male” and “Female”), and the values (“M” and “F”) are
the corresponding codes used for those categories. It is used to map
full category labels to shorter, standardized values. We can pass it to
<code><a href="../reference/recode_valinvec.html">trustmebro::recode_valinvec</a></code>, to recode the values
accordingly. A new variable will be added that contains the recoded
values</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/recode_valinvec.html">recode_valinvec</a></span><span class="op">(</span><span class="fu"><a href="../reference/purge_string.html">purge_string</a></span><span class="op">(</span><span class="va">sailor_students</span>, replacement <span class="op">=</span> <span class="st">"#"</span><span class="op">)</span>, <span class="va">gender</span>, <span class="va">recode_map</span>, <span class="va">gender_recode</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 7</span></span></span>
<span><span class="co">#&gt;    sgic  school class gender testscore_langauge testscore_calculus gender_recode</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> MUC#… 54321  3#B   MALE                  425                394 M            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> H#T2… 22345  2#A   ###                  <span style="text-decoration: underline;">4</span>596                123 ###          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> MUK3… 22345  2#B   FEMALE               <span style="text-decoration: underline;">2</span>456               <span style="text-decoration: underline;">9</span>485 F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> SAM10 22345  3#B   FEMALE               <span style="text-decoration: underline;">2</span>345                  3 F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> T0601 65432  1#C   FEMALE               <span style="text-decoration: underline;">1</span>234                 <span style="color: #BB0000;">NA</span> F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> UIT3… 12345  3#3   #                     123                394 #            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ####… #      3#2   FEMALE                 56               <span style="text-decoration: underline;">2</span>938 F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> #     12345  3#41  FEMALE                986               <span style="text-decoration: underline;">3</span>948 F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> #     UNKOWN #     FEMALE                284                205 F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> MOA2… 12345  #     FEMALE                105                 21 F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> MUK3… 22345  2#B   FEMALE               <span style="text-decoration: underline;">9</span>586                934 F            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> T0601 65432  1#C   FEMALE                 <span style="color: #BB0000;">NA</span>                764 F</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Annemarie Pläschke, Tobias Brändle.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
